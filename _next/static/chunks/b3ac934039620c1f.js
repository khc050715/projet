(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},84355,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(18566);e.i(36180);var r=e.i(98925),i=e.i(59141);e.i(51718);var l=e.i(18357),n=e.i(71689),o=e.i(56909),c=e.i(31278),d=e.i(22016);let u=(0,e.i(70703).default)(()=>e.A(88174),{loadableGenerated:{modules:[72113]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"text-gray-500 p-4",children:"Editor Loading..."})});function h(){let e=(0,s.useRouter)(),[h,m]=(0,a.useState)(null),[x,f]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[g,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=(0,l.onAuthStateChanged)(i.auth,t=>{t?m(t):e.push("/")});return()=>t()},[e]);let y=async()=>{if(!x.trim()||!p.trim())return void alert("제목과 내용을 모두 입력해주세요.");if(h){v(!0);try{await (0,r.addDoc)((0,r.collection)(i.db,"records"),{uid:h.uid,title:x,content:p,created_at:(0,r.serverTimestamp)(),updated_at:(0,r.serverTimestamp)(),status:"active"}),e.push("/")}catch(e){console.error(e),alert("저장 중 오류가 발생했습니다."),v(!1)}}};return h?(0,t.jsxs)("main",{className:"min-h-screen bg-black text-gray-200 p-6 md:p-12 max-w-4xl mx-auto border-x border-gray-900/50",children:[(0,t.jsxs)("nav",{className:"flex justify-between items-center mb-10",children:[(0,t.jsxs)(d.default,{href:"/",className:"text-gray-500 hover:text-white flex items-center gap-2 transition-colors",children:[(0,t.jsx)(n.ArrowLeft,{className:"w-4 h-4"})," Back to Log"]}),(0,t.jsxs)("button",{onClick:y,disabled:g,className:"bg-white text-black px-6 py-2 rounded font-bold hover:bg-gray-200 disabled:opacity-50 flex items-center gap-2 transition-all",children:[g?(0,t.jsx)(c.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(o.Save,{className:"w-4 h-4"}),"Record Knot"]})]}),(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,t.jsx)("input",{type:"text",placeholder:"Title of Existence...",autoFocus:!0,className:"w-full bg-transparent text-4xl font-bold text-white placeholder-gray-800 border-none outline-none",value:x,onChange:e=>f(e.target.value)}),(0,t.jsx)("div",{className:"min-h-[60vh] border-t border-gray-800 pt-6",children:(0,t.jsx)(u,{markdown:p,onChange:b})})]})]}):null}e.s(["default",()=>h])},88174,e=>{e.v(t=>Promise.all(["static/chunks/fac2aa90d5f39e2e.js","static/chunks/c0a0c0f35d0a8771.css"].map(t=>e.l(t))).then(()=>t(72113)))}]);