(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},30911,37727,e=>{"use strict";var t=e.i(71645);e.i(51718);var a=e.i(18357),s=e.i(59141),n=e.i(18566);function i(e=!1){let[l,r]=(0,t.useState)(null),[c,o]=(0,t.useState)(!0),d=(0,n.useRouter)();return(0,t.useEffect)(()=>{let t=(0,a.onAuthStateChanged)(s.auth,t=>{r(t),o(!1),e&&!t&&d.push("/")});return()=>t()},[e,d]),{user:l,loading:c}}e.s(["formatDate",0,e=>e?new Date(e.toDate()).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"short"}):"","useAuth",()=>i],30911);let l=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>l],37727)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},84355,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(18566);e.i(36180);var n=e.i(98925),i=e.i(59141),l=e.i(30911),r=e.i(71689),c=e.i(56909),o=e.i(31278),d=e.i(37727),u=e.i(22016);let m=(0,e.i(70703).default)(()=>e.A(88174),{loadableGenerated:{modules:[72113]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-20 flex items-center text-zinc-600",children:"Loading..."})});function h(){let e=(0,s.useRouter)(),{user:h,loading:p}=(0,l.useAuth)(!0),[x,f]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[g,y]=(0,a.useState)([]),[j,k]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),z=async()=>{if(x.trim()&&v.trim()){N(!0);try{await (0,n.addDoc)((0,n.collection)(i.db,"records"),{uid:h.uid,title:x,content:v,tags:g,created_at:(0,n.serverTimestamp)(),updated_at:(0,n.serverTimestamp)(),status:"active"}),e.push("/")}catch{alert("Error"),N(!1)}}};return p?null:(0,t.jsxs)("main",{className:"projet-container",children:[(0,t.jsxs)("nav",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)(u.default,{href:"/",className:"text-zinc-500 hover:text-white flex items-center gap-2 text-sm font-medium transition-colors",children:[(0,t.jsx)(r.ArrowLeft,{className:"w-4 h-4"})," Back"]}),(0,t.jsxs)("button",{onClick:z,disabled:w,className:"bg-zinc-100 text-black px-5 py-2 rounded-lg text-sm font-bold hover:bg-white disabled:opacity-50 flex items-center gap-2",children:[w?(0,t.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(c.Save,{className:"w-4 h-4"})," Record"]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 animate-in fade-in duration-500",children:[(0,t.jsx)("input",{type:"text",placeholder:"Title...",autoFocus:!0,className:"w-full bg-transparent text-4xl font-bold text-white placeholder-zinc-700 border-none outline-none p-0",value:x,onChange:e=>f(e.target.value)}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[g.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-zinc-800 text-zinc-300 text-sm font-medium animate-in zoom-in duration-200",children:[e," ",(0,t.jsx)("button",{onClick:()=>y(g.filter(t=>t!==e)),className:"hover:text-white",children:(0,t.jsx)(d.X,{className:"w-3 h-3"})})]},e)),(0,t.jsx)("input",{type:"text",placeholder:0===g.length?"Add notes... (Enter)":"",className:"bg-transparent text-zinc-400 placeholder-zinc-700 outline-none min-w-32",value:j,onChange:e=>k(e.target.value),onKeyDown:e=>{if("Enter"===e.key||","===e.key){e.preventDefault();let t=j.trim();t&&!g.includes(t)&&y([...g,t]),k("")}else"Backspace"===e.key&&!j&&g.length>0&&y(g.slice(0,-1))}})]}),(0,t.jsx)("div",{className:"flex-1 border-t border-zinc-800 pt-6",children:(0,t.jsx)(m,{markdown:v,onChange:b})})]})]})}e.s(["default",()=>h])},88174,e=>{e.v(t=>Promise.all(["static/chunks/42deda8852a73de0.js","static/chunks/c0a0c0f35d0a8771.css"].map(t=>e.l(t))).then(()=>t(72113)))}]);