(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},18566,(e,t,a)=>{t.exports=e.r(76562)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},28180,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(18566);e.i(36180);var r=e.i(98925),l=e.i(59141);e.i(51718);var i=e.i(18357),n=e.i(71689),c=e.i(75254);let d=(0,c.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var o=e.i(31278);let h=(0,c.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),m=(0,c.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var x=e.i(22016);let u=(0,e.i(70703).default)(()=>e.A(88174),{loadableGenerated:{modules:[72113]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"text-gray-500",children:"Loading Content..."})});function y(){let e=(0,s.useRouter)(),c=(0,s.useSearchParams)().get("id"),[y,f]=(0,a.useState)(null),[g,p]=(0,a.useState)(null),[b,j]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let t=(0,i.onAuthStateChanged)(l.auth,async t=>{if(!t)return void e.push("/");if(f(t),c)try{let e=await (0,r.getDoc)((0,r.doc)(l.db,"records",c));e.exists()&&p({id:e.id,...e.data()})}catch(e){console.error(e)}finally{j(!1)}});return()=>t()},[c,e]),b)?(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center text-gray-500",children:(0,t.jsx)(o.Loader2,{className:"animate-spin"})}):g?(0,t.jsxs)("main",{className:"min-h-screen bg-black text-gray-200 p-6 md:p-12 max-w-4xl mx-auto border-x border-gray-900/50",children:[(0,t.jsxs)("nav",{className:"flex justify-between items-center mb-12",children:[(0,t.jsxs)(x.default,{href:"/",className:"text-gray-500 hover:text-white flex items-center gap-2 transition-colors",children:[(0,t.jsx)(n.ArrowLeft,{className:"w-4 h-4"})," Back"]}),(0,t.jsxs)(x.default,{href:`/edit?id=${g.id}`,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-yellow-900/30 text-gray-300 hover:text-yellow-500 rounded transition-all border border-gray-700 hover:border-yellow-700",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:"Edit Knot"})]})]}),(0,t.jsxs)("header",{className:"mb-10 pb-6 border-b border-gray-800 space-y-4",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:g.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 font-mono",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m,{className:"w-4 h-4"})," ",g.created_at?.toDate().toLocaleDateString()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h,{className:"w-4 h-4"})," ",g.created_at?.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),g.revision_count>0&&(0,t.jsxs)("span",{className:"text-yellow-700 bg-yellow-900/10 px-2 py-0.5 rounded border border-yellow-900/30",children:["Rev.",g.revision_count]})]})]}),(0,t.jsx)("article",{className:"min-h-[50vh]",children:(0,t.jsx)(u,{markdown:g.content,readOnly:!0})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-black text-gray-500 p-10",children:"Record not found."})}function f(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"bg-black min-h-screen"}),children:(0,t.jsx)(y,{})})}e.s(["default",()=>f],28180)},88174,e=>{e.v(t=>Promise.all(["static/chunks/fac2aa90d5f39e2e.js","static/chunks/c0a0c0f35d0a8771.css"].map(t=>e.l(t))).then(()=>t(72113)))}]);