(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},18566,(e,t,a)=>{t.exports=e.r(76562)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},28180,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(18566);e.i(36180);var r=e.i(98925),l=e.i(59141),n=e.i(71689),d=e.i(75254);let c=(0,d.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var i=e.i(31278);let o=(0,d.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),h=(0,d.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=e.i(22016);let x=(0,e.i(70703).default)(()=>e.A(88174),{loadableGenerated:{modules:[72113]},ssr:!1});function m(){let e=(0,s.useRouter)(),d=(0,s.useSearchParams)().get("id"),[m,f]=(0,a.useState)(null),[p,y]=(0,a.useState)(!1),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{let t=l.auth.onAuthStateChanged(async t=>{if(!t||!d)return e.push("/");let a=await (0,r.getDoc)((0,r.doc)(l.db,"records",d));if(a.exists()){let e=a.data();f({id:a.id,...e}),j.current?.setMarkdown(e.content)}else e.push("/")});return()=>t()},[d,e]),(0,a.useEffect)(()=>{m&&j.current&&j.current.setMarkdown(m.content)},[m]);let g=async()=>{if(confirm("정말로 이 기록을 영구 삭제하시겠습니까? (복구할 수 없습니다)")){y(!0);try{await (0,r.deleteDoc)((0,r.doc)(l.db,"records",d)),e.push("/")}catch(e){console.error(e),alert("삭제 실패"),y(!1)}}};return m?(0,t.jsxs)("main",{className:"projet-container",children:[(0,t.jsxs)("nav",{className:"flex justify-between items-center",children:[(0,t.jsxs)(u.default,{href:"/",className:"text-gray-500 hover:text-white flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(n.ArrowLeft,{className:"w-4 h-4"})," List"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:g,disabled:p,className:"flex items-center gap-2 px-3 py-1.5 text-red-500 hover:bg-red-900/20 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:[p?(0,t.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(h,{className:"w-4 h-4"}),"Delete"]}),(0,t.jsxs)(u.default,{href:`/edit?id=${m.id}`,className:"flex items-center gap-2 px-3 py-1.5 text-gray-400 hover:text-yellow-500 hover:bg-yellow-900/10 rounded-lg text-sm font-medium transition-colors",children:[(0,t.jsx)(c,{className:"w-4 h-4"})," Edit"]})]})]}),(0,t.jsxs)("header",{className:"flex flex-col gap-4 border-b border-gray-800 pb-6 mt-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white leading-tight",children:m.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500 font-mono",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(o,{className:"w-3 h-3"})," ",m.created_at?.toDate().toLocaleDateString()]}),m.updated_at?.seconds!==m.created_at?.seconds&&(0,t.jsx)("span",{className:"text-yellow-700 bg-yellow-900/10 px-2 rounded border border-yellow-900/30",children:"Revised"})]})]}),(0,t.jsx)("article",{className:"flex-1 mt-2",children:(0,t.jsx)(x,{ref:j,markdown:m.content,readOnly:!0})})]}):(0,t.jsx)("div",{className:"h-screen flex items-center justify-center text-gray-600",children:(0,t.jsx)(i.Loader2,{className:"animate-spin"})})}function f(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{}),children:(0,t.jsx)(m,{})})}e.s(["default",()=>f],28180)},88174,e=>{e.v(t=>Promise.all(["static/chunks/42deda8852a73de0.js","static/chunks/c0a0c0f35d0a8771.css"].map(t=>e.l(t))).then(()=>t(72113)))}]);